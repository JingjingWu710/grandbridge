{% extends "layout.html" %}
{% block content %}
<h1>Your Memory Wall</h1>
<a href="/memories_wall/upload">+ Add New Memory</a>
<hr>

{% for memory in memories %}
  <div style="margin-bottom: 2rem;">
    <p><b>{{ memory.created_at.strftime("%Y-%m-%d %H:%M") }}</b></p>
    {% if 'image' in memory.filetype %}
      <img src="{{ url_for('static', filename='uploads/' + memory.filename) }}" width="300">
    {% elif 'video' in memory.filetype %}
      <video controls width="300">
        <source src="{{ url_for('static', filename='uploads/' + memory.filename) }}">
      </video>
    {% elif 'audio' in memory.filetype %}
      <audio controls>
        <source src="{{ url_for('static', filename='uploads/' + memory.filename) }}">
      </audio>
    {% endif %}
    <p>{{ memory.text }}</p>
  </div>
{% endfor %}

{% endblock %}